/* Kingdom CSS Extension - Print */
@import "../modules/layout";

.print-only-block,
.print-only-inline-block,
.print-only-inline {
  display: none;
}

@media print {

  // Print only
  .print-only-block {
    @include display-block();
  }

  .print-only-inline-block {
    @include display-inline-block();
  }

  .print-only-inline {
    @include display-inline();
  }

  // Print links
  // https://www.smashingmagazine.com/2013/03/tips-and-tricks-for-print-style-sheets/#expand-external-links-for-print
  .print-href {
    text-decoration: none;
    font-weight: bolder;

    &:after {
      content: " <" attr(href) "> ";
    }
  }

  .print-links-inside {
    *:link {
      &[href^=http] {
        @extend .print-href;
      }

      &.hide-href:after {
        /* Add class hide-href on a link to stop the printing */
        content: "";
      }

      &:local-link:after {
        content: ""; // Can't extend .hide-href because :local-link is not a valid css selector (yet)
      }
    }
  }

  article {
    @extend .print-links-inside;
  }

  // Avoid page breaks
  h1, h2, h3, h4, h5, h6, hgroup {
    page-break-after: avoid;
    break-after: avoid;
  }

  nav, header, footer, table, hgroup {
    page-break-inside: avoid;
    break-inside: avoid;
  }
}
