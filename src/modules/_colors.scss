$colors: () !default;

@function get-color($name, $get-text-color: false) {
  @return nth(map-get($colors, $name), if($get-text-color, 2, 1));
}

@function text-color-for-background($background-color, $amount: 70%) {
  @return if(lightness($background-color) > 50%, darken($background-color, $amount), lighten($background-color, $amount));
}

@function background-text-color-pair($background-color, $amount: 70%) {
  @return $background-color text-color-for-background($background-color, $amount);
}

@mixin set-color($name: primary, $property: color, $use-text-color: false) {
  #{$property}: get-color($name, $use-text-color);
  $var_name: --color-#{$name};
  @if($use-text-color) {
    $var_name: $var_name + '-text';
  }
  #{$property}: var(#{$var-name}, get-color($name, $use-text-color));
}

@mixin set-background-color($name, $set-text-color: true) {
  @include set-color($name, background-color);
  @if ($set-text-color) {
    @include set-color($name, $use-text-color: true);
  }
}
