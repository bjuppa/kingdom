//TODO: consider different cases where you'd want to apply depending on the element's intrinsic text direction or the containing element's text direction
@mixin for-ltr {
  /* #{&} has rtl-specific treatment */
  &:dir(ltr):dir(ltr):dir(ltr):dir(ltr), [dir=ltr] &, &[dir=ltr], [dir=rtl] [dir=ltr] &, [dir=rtl] &[dir=ltr], [dir=ltr] [dir=rtl] [dir=ltr] &, [dir=ltr] [dir=rtl] &[dir=ltr], & {
    /* ltr-specific treatment */
    @content;
  }
}

@mixin for-rtl {
  /* #{&} has rtl-specific treatment */
  &:dir(rtl):dir(rtl):dir(rtl):dir(rtl), [dir=rtl] &, &[dir=rtl], [dir=ltr] [dir=rtl] &, [dir=ltr] &[dir=rtl], [dir=rtl] [dir=ltr] [dir=rtl] &, [dir=rtl] [dir=ltr] &[dir=rtl] {
    /* rtl-specific treatment */
    @content;
  }
}
